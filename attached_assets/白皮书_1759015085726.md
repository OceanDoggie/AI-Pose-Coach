# AI Pose Coach — 白皮书 2.0（专业版）
> 把「小红书/Ins 教程」装进相机里：用自然语言 + 动态小人 + 相似度条，实时教模特与摄影师怎么拍，像一位随身的“AI 拍照教练”。

## 0. 电梯稿（1 句话）
让不会摆的会摆、让会摆的更出片，让摄影师少试错：用 **实时姿态对齐 + 机位/光线建议 + 达标自动快门**，把“教程 → 实操”缩短到 **10 秒**。  
**TODO**：补 1 句更贴近目标用户语气的宣传文案。

---

## 目录
1. 价值主张与痛点  
2. 目标用户与场景  
3. 范围定义（MVP → v1.5 → v2.0）  
4. 关键界面（含达标自动拍交互）  
5. 端到端流程（状态机 / Flow）  
6. 技术架构（客户端优先，轻后端）  
7. 模型与算法  
8. 规则引擎与提示生成  
9. 内容与数据（Pose/参考图）  
10. 性能指标（MVP 目标）  
11. 隐私与合规  
12. 商业化与增长  
13. 竞品与差异化  
14. 风险与对策  
15. 指标与实验  
16. 技术栈清单  
17. API 设计（示例）  
18. 路线图（分阶段）  
19. 立即可做的 3 件事  
20. 附：文案模板（示例）

---

## 1. 价值主张与痛点
- **痛点**：教程看会了但落地难；不知手脚怎么放、相机距离/高度、光从哪边来。自拍/互拍沟通成本高、易错过抓拍。
- **差异点**：  
  1) 教程 **嵌入取景器** 实时对齐；  
  2) 同时指导 **模特姿势 + 摄影师机位/光线**；  
  3) **完成度百分比 + 小人动画 + 语音** 三重反馈；  
  4) 达标 **自动快门**。
- **TODO**：补 Demo GIF/短视频链接。

## 2. 目标用户与场景
- **用户**：Z 世代/大学生、情侣/闺蜜、内容创作者/小店主、影楼/工作室（B 端）。
- **场景**：校园、海滩、城市街拍、咖啡店、窗边、健身房等。
- **TODO**：为每个场景配 2–3 个推荐 Pose。

## 3. 范围定义（MVP → v1.5 → v2.0）
- **MVP（必须）**：取景器骨架叠加、风格/场景/自他拍选择、目标 Pose 模板/参考图导入、相似度条（角度对齐 %）、大白话提示（模特&摄影师）、达标自动快门、本地保存。
- **v1.5（增强）**：小人演示窗（2D/3D）与分解动画、语音播报与倒计时、机位/光线教练、参考图解析成 Pose。  
- **Nice to Have**：实时纠偏提示、多动作连拍引导（✅已入流程）。  
- **v2.0（商业化/体验）**：多人成像、动作序列、风格包市场、离线模式。  
- **TODO**：明确每阶段验收标准 & 风险点。

## 4. 关键界面（含达标自动拍）
- **主取景区（全屏）**：骨架/虚线/箭头/关键点；构图辅助线（九宫格/地平线）。  
- **右侧提示区**：顶部完成度条（0–100%）；中部文字/表情提示；底部小人演示窗（2D→3D）。  
- **底部操作区**：快门/倒计时、前后摄像头切换、风格/场景选择、参考图导入。  
- **动作序列**：显示 “当前动作 x/y + 下一步指引”。  
- **达标自动拍**：分数≥阈值且稳定 N 帧（建议 8–12）→ 蜂鸣 + 轻振动 → 自动快门。  
- **TODO**：插入界面草图/Figma 链接。

## 5. 端到端流程（状态机）
选择 → 解析 → 纠偏 → 达标 → 拍照/复拍  
1) 选风格/场景/自他拍（可跳过）  
2) 选 Pose 模板或导入参考图（支持“换一批/推荐”）  
3) 实时检测：取景器显示骨架与完成度 %  
4) 规则引擎输出（文本 + 语音）给模特/摄影师  
5) 达标阈值 + 稳定帧 → 自动快门（早期可手动）  
6) 预览：重拍/保存/加入相册/一键生成“拍摄记录卡”  
7) 若为动作序列 → 自动进入下一动作  
**TODO**：补状态图（Mermaid/PNG）。

## 6. 技术架构（低成本优先）
### 6.1 客户端优先（推荐）
- **Web PWA（首发）**：React + TypeScript + Vite  
  - 摄像头：`getUserMedia`  
  - 姿态：MediaPipe Tasks Pose Landmarker（WASM）  
  - 叠加：HTML Canvas 2D  
  - 语音：Web Speech Synthesis（0 成本）  
  - 本地存储：IndexedDB  
  - 小人：Canvas 2D（后续 Three.js）
- **移动端（二阶段）**：React Native（Expo）  
  - 相机：`react-native-vision-camera`  
  - 姿态：MediaPipe Tasks（GPU Delegate）  
  - TTS：iOS AVSpeech / Android TextToSpeech  
### 6.2 轻后端（可选）
- FastAPI：Pose/风格包元数据、参考图解析（端上不足再云）、日志/埋点、A/B  
- 数据库：PostgreSQL（早期可 SQLite）  
- 对象存储：S3 兼容（R2/MinIO）  
- **原则**：人像默认不出端；若需云解析，仅上传骨架/匿名嵌入。  
**TODO**：数据流与权限边界图。

## 7. 模型与算法
### 7.1 姿态检测
- Pose Landmarker（全身 33 点）；需时再启用 Face/Hand，避免过度开销。
### 7.2 相似度评分（%）
- **目标**：稳定、可解释、对身高/畸变鲁棒。  
- **流程**：关节角 → 对齐归一化（以骨盆中心，Procrustes）→ 加权误差（上身>下身>手指）→（可选）序列匹配 DTW → 百分比（EMA 平滑）→ 稳定判定（阈值 & N 帧）。  
### 7.3 机位/光线教练（规则 + 感知）
- 距离/高度/倾斜/光向 估计与建议（如“后退半步”“机位略低于肚脐”“向右旋 2°”“主光从右上”）。  
**TODO**：权重与阈值表格。

## 8. 规则引擎与提示生成
- **规则样例**：  
  - 左肘角 < 30° → “左手再伸直一点”  
  - 头部 Yaw 偏差 > 15° → “头向右转一点”  
  - 脸部亮度差 < 阈值 → “让光打在右脸”  
- **双角色提示模板**（模特/摄影师），播报节流去抖（同建议 2s 内不重复），中英双语，简洁/详细两档。  
**TODO**：提示语库 YAML/JSON。

## 9. 内容与数据
### 9.1 Pose 模板（JSON）
```json
{
  "id": "pose_sunshine_001",
  "name": "阳光半身侧身笑",
  "tags": ["阳光", "海滩", "女生"],
  "angles": {"L_elbow":160, "R_elbow":90, "HeadYaw":10},
  "weights": {"upper":0.6, "lower":0.4},
  "sequence": ["抬右手触鬓", "左脚前一点", "看镜头上沿"],
  "cameraHint": {"framing":"半身","height":"肚脐位","distance":"~1.5m","light":"右脸受光"}
}
### 9.2 教程解析（参考图/视频）

- 端上运行 **静态图骨架化** → 存 **骨架/角度向量**，不存原图；
- 多张图 → 补足动作序列；
- 版权合规：**只保留结构化骨架与文字**，不分发原图。

---

## 10. 性能指标（MVP 目标）

- 姿态检测 ≥ **24 FPS**（中端手机/笔电）；
- 端到端延迟 ≤ **120ms**；
- 自动快门误触率 < **2%**；
- 电量消耗控制：后台暂停检测，息屏停运算。

---

## 11. 隐私与合规

- **默认本地处理**；云端仅在用户授权下工作；
- 可切换“仅存骨架，不存原图”；一键删除；
- 青少年友好：
  - 避免体态羞辱词汇；
  - 提供“身体中立”提示版本（如“挺直肩背”而非“瘦一点”）。

---

## 12. 商业化与增长

- **Freemium**：基础姿势库免费；
- **Pro 订阅**：高级姿势/动作序列、专业人像光位包、参考图解析；
- **Pose/Style Pack 市场**：摄影师/KOL 上架分成；
- **B 端**：影楼/剧组/品牌快拍工具（多机位指导）。

增长飞轮：用户作品 → 水印口碑 → 下载/购买 → 创作者上架 Pose 包 → 内容更丰富。

---

## 13. 竞品 & 差异化（概括）

- 美颜相机：滤镜/修容强，**实时拍摄指导弱**；
- 教程 App：教学强，**实时落地弱**；
- 我们：**相机里实时教**，把“知道”变“做到”。

---

## 14. 风险与对策

- **遮挡/多人误检**：增加人体追踪 ID、允许手动锁定目标；
- **光照极端**：自动提高曝光/提示换位；
- **设备性能差**：提供“低功耗模式”（降低刷新率/关键点数量）；
- **版权风险**：仅保存骨架/角度；引入创作者入驻机制；
- **用户学习曲线**：预置“3 步就出片”的 **超简模式**。

---

## 15. 指标与实验

- **A1 激活**：首次拍到 ≥80% 分的照片；
- **A2 成功率**：10 分钟内完成 3 张合格照；
- **留存**：7 天内复拍 ≥2 次；
- **效率**：从进入相机到拍下首张达标照的中位时长；
- **建议命中率**：被采纳的提示 / 总提示；
- 实验：阈值、提示文案风格、语音/静默对比、自动 vs 手动快门。

---

## 16. 技术栈清单（建议）

- **前端 Web**：React + Vite + TS / Zustand（状态）/ Canvas 2D；
- **姿态**：MediaPipe Tasks（WASM/GPU）；
- **小人**：Canvas 2D（后续 Three.js）；
- **语音**：Web Speech / iOS TTS / Android TTS（0 成本）；
- **后端**：FastAPI + PostgreSQL；对象存储 S3 兼容；
- **数据分析**：PostHog / 开源埋点；
- **测试**：Cypress（端到端）、Jest（单测）。

---

## 17. API 设计（示例）

- `GET /poses?tag=sunshine` → 返回 Pose 元数据列表；
- `POST /analyze` → 参考图解析 → 返回骨架/角度；
- `POST /score` → 输入实时关键点 → 返回相似度%与建议；
- `GET /packs` → 风格包市场元数据。

**/score 返回样例**
```json
{
  "score": 86,
  "stable": true,
  "advice": {
    "model": ["左手再高 10°", "眼睛看镜头上沿"],
    "photographer": ["机位降 5cm", "右侧迎光"]
  },
  "visual": {"arrows": [["L_wrist","up",0.1]]}
}
## 18. 路线图（按阶段）

- **Phase A**：Web 端 MVP（取景 + 姿势识别 + 百分比 + 自动快门 + 本地存储）。
- **Phase B**：小人演示、TTS、参考图解析（端上优先）。
- **Phase C**：Pose Pack 市场、账号体系（可选匿名）。
- **Phase D**：多人/动作序列/光位高级包、B 端能力。

---

## 19. 立即可做的 3 件事

1. 选 10 个“阳光/可爱/辣妹”**静态 Pose**，写成 JSON 模板；
2. Web PWA 骨架：取景 + MediaPipe + Canvas 叠加 + 相似度条；
3. 规则引擎 V0：把 15 条最常见纠偏写成 if-else，接入播报。

---

## 20. 附：文案模板（示例）

- **模特**：请把 **左手** 轻扶发鬓，**右手** 叉腰；**左脚** 跨在前；**抬头 10°** 看镜头上沿，**微笑**。
- **摄影师**：请 **退后半步**，机位 **到腰线**；让 **右侧光** 打在脸上；准备 **321**，稳住。

> 以上为 2.0 版白皮书，可直接用于立项评审、产品对外介绍与开发落地。
